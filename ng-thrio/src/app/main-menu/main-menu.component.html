<main>
  <header>
    <h1>THRIO<span>.app</span></h1>

    <div class="top-right">
      <span> {{ authService.user?.displayName }} </span>
      <i class="fas clickable" [ngClass]="showConfig?'fa-times':'fa-user-cog'" (click)="showConfig=!showConfig"></i>
    </div>
  </header>

  <div *ngIf="showConfig; else">
    <label class="db">Nickname</label>
    <input type="text" [(ngModel)]="name" name="name" (blur)="authService.changeName(name)">
    <br />
    <button (click)="authService.signOut()">Sign out</button>
  </div>

  <div class="options" *ngIf="authService.user && !showConfig">

    <button (click)="newRoom()">New game</button>

    <button (click)="joinPublic()" [disabled]="searching">
      <i class="fas fa-circle-notch fa-spin" *ngIf="searching"></i>
      Join a<br />public game
    </button>

    <form (submit)="joinRoom()">
      <div class="field">
        <input
          type="text"
          [(ngModel)]="roomCode"
          name="roomCode"
          placeholder="Enter a room code"
          autocomplete="off"
          spellcheck="false"
        />
        <button action="submit" [disabled]="!roomCode">Join Room</button>
      </div>
    </form>

  </div>

</main>

<footer>
  <a href="https://odedfalik.com" target="_blank">by oded</a>
</footer>
